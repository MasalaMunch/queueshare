e = require(`eventually`)
S = require(`.`)
V = require(`./Version.js`)

newerV = V.Newer(V.oldest)

s = new S((c) => console.log(`set`, c.path, `to`, c.value))

console.log(s)

s.receive({path: [`c`], versions: [newerV, newerV]})

console.log(s)

s.receive({path: [], versions: [newerV]})

console.log(s)

e(() => {

    console.log(s)
    s.write({path: []});
    console.log(s);

})