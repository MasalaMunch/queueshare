"use strict";

const assert = require(`assert`);
const SyncedTree = require(`./SyncedTree.js`);

module.exports = class extends SyncedTree {

    write (change) {

        assert(change.hasOwnProperty(`value`));

        super.write(change);

    }

    _normalize (change) {

        super._normalize(change);

        change.path.forEach((child) => assert(typeof child === `string`));

        change.value = change.value; // so that change.hasOwnProperty(`value`)

    }

};